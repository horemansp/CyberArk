{"aapilets":{"scim":{"enabled":false,"version":2},"name":"PH-Loop-GetUsers-roles-to-slack","title":"","start-connection":"api-definition-1111897915","apiconnection":{"api-webhook-desc":{},"api-custom-values":{},"manualProcess":false,"mask-parameters":{"aapi-custom-values":[],"aapilet-external-request":[],"api-definition-1112228029":[],"loop-definition-1111474727":[],"loop-definition-1115355856":[]},"run":{"browser":{"enabled":true,"oidcEnabled":false,"oidcid":"96e7e51e-30a7-47c3-bc70-dc0fab80d3cb","workspaceEnabled":true},"endpoint":{"active":false,"apikey":""},"manual":{"active":true,"postrun":{"api-condition-stop-definition-1115571205":{"close":true,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"remain":false},"close":false,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"redirect":false,"redirecturl":"","remain":true,"workspace":false}},"schedule":{"active":false,"day":[],"options":"periodically","periodically":"10m","range":[],"time":[]}},"timer":{"interval-days":"","interval-endtime":"","interval-hours":"","interval-specificdate":"","interval-starttime":"","interval-timezone":"","interval-type":"minutes","interval-value":"10"},"api-definition-1111897915":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/x-www-form-urlencoded","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"*******","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://phconsul.my.idaptive.app/oauth2/token/identityapi","auth-type":"oauth2","auth-url":"https://phconsul.my.idaptive.app/oauth2/authorize/identityapi","auth-userid":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{},"api-call-type":"post","api-description":"Get Users","api-map-config":{"api-call-body":{},"api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"18a7b6d1-a17e-4cc9-b8a4-c7ca8cf8ec9f","apiname":" Get Users","apiuniqueid":"","appname":"Identity Security Platform","authRequired":false,"basePath":"/","builder-auth-id":"f2da8685-ccb3-447a-9a5c-266de65928ed","company":"CyberArk","definition-id":"1111897915","endpoint":"/CDirectoryService/GetUsers","global_apiid":"29f879cf-a144-4305-b7ef-4de0af7b472c","global_region":"","goto":"loop-definition-1111474727","guid":"api-definition-1111897915","host":"phconsul.my.idaptive.app","id":"api-definition-1111897915","logo":"https://d2jvs8ec336vde.cloudfront.net/cyberark.png","nodeType":"API","scheme":["https"],"version":"1.0.0"},"loop-definition-1111474727":{"condition-type":"loop","definition-id":"1111474727","goto":"api-definition-1112228029","guid":"loop-definition-1111474727","id":"loop-definition-1111474727","isConditionLoop":true,"loop-map-values":{"initialization":[],"iteration-goto":"","iteration-value":[{"_id":"MID25484653834390203","ref":"text","value":""},{"_id":"MID05936291995923049","image":"","maskParameter":false,"ref":"api-definition-1111897915","title":"Result Results","type":"[{}]","value":"Result{}.Results[{}]"},{"_id":"MID22188156943728798","ref":"text","value":""}],"loop-type":"forEach","operations":""},"loopName":"loop-definition-1111474727","loopstop-definition":"loop-definition-1111474727","loopstop-id":"loop-stop-definition-1112092995","nodeType":"Loop","schema":{"Entities":[{"IsForeignKey":false,"Key":"??","Type":"CDUser"}],"Row":{"Description":null,"DisplayName":"792CD265-9EDD-57C7-9FFE-93BF43972B93$","EndDate":null,"HomeNumber":null,"Mail":null,"MobileNumber":null,"Name":"792cd265-9edd-57c7-9ffe-93bf43972b93$@phconsul.com.72","OfficeNumber":null,"PictureUri":null,"PreferredCulture":null,"ReportsTo":null,"StartDate":null,"Uuid":"3654d92c-ac55-4e48-b8d2-5cdae196c84f"}},"type":"loop"},"api-definition-1112228029":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/x-www-form-urlencoded","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"*******","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://phconsul.my.idaptive.app/oauth2/token/identityapi","auth-type":"oauth2","auth-url":"https://phconsul.my.idaptive.app/oauth2/authorize/identityapi","auth-userid":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{"id":[{"_id":"MID5196056228472556","ref":"text","value":""},{"_id":"MID9916936875141953","image":"","list":[""],"logo":"/pages-gateway/assets/images/builder/loop-solid.svg","maskParameter":false,"ref":"loop-definition-1111474727","title":"Row Uuid","type":"(s)","value":"Row{}.Uuid(s)"},{"_id":"MID20706500608598022","ref":"text","value":""}]},"api-call-type":"post","api-description":"Get Users Roles And Administrative Rights","api-map-config":{"api-call-body":{},"api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{"id":{"description":"(Required) UUID of User","location":"query","name":"id","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"18a7b6d1-a17e-4cc9-b8a4-c7ca8cf8ec9f","apiname":" Get Users Roles And Administrative Rights","apiuniqueid":"","appname":"Identity Security Platform","authRequired":false,"basePath":"/","builder-auth-id":"f2da8685-ccb3-447a-9a5c-266de65928ed","company":"CyberArk","definition-id":"1112228029","endpoint":"/UserMgmt/GetUsersRolesAndAdministrativeRights","global_apiid":"29f879cf-a144-4305-b7ef-4de0af7b472c","global_region":"","goto":"loop-definition-1115355856","host":"AAF4862.my.idaptive.app","id":"api-definition-1112228029","logo":"https://d2jvs8ec336vde.cloudfront.net/cyberark.png","nodeType":"API","scheme":["https"],"version":"1.0.0"},"loop-definition-1115355856":{"condition-type":"loop","definition-id":"1115355856","goto":"api-definition-1111370285","id":"loop-definition-1115355856","isConditionLoop":true,"loop-map-values":{"initialization":[],"iteration-goto":"","iteration-value":[{"_id":"MID926934672616881","ref":"text","value":""},{"_id":"MID35063502431110916","image":"","maskParameter":false,"ref":"api-definition-1112228029","title":"Result Results","type":"[{}]","value":"Result{}.Results[{}]"},{"_id":"MID3505634797191619","ref":"text","value":""}],"loop-type":"forEach","operations":""},"loopName":"loop-definition-1115355856","loopstop-definition":"loop-definition-1115355856","loopstop-id":"loop-stop-definition-1110898431","nodeType":"Loop","schema":{"Entities":[{"IsForeignKey":false,"Key":"6d83856b_9201_4a8c_9cf0_ee2596d00cfa","Type":"Role"}],"Row":{"AdministrativeRights":[{"Description":"Endpoint Agents","Path":"/lib/rights/endpointserviceaccount.json","Scope":null,"ServiceName":"Identity"}],"Description":"The read-only role for service user to perform agent tasks such as user authentication, etc..","ID":"6d83856b_9201_4a8c_9cf0_ee2596d00cfa","Name":"CyberArk Identity Agent Endpoints","OrgPath":null,"Role":"6d83856b_9201_4a8c_9cf0_ee2596d00cfa","RoleName":"CyberArk Identity Agent Endpoints"}},"type":"loop"},"api-definition-1111370285":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/json","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://slack.com/api/oauth.v2.access","auth-type":"oauth2","auth-url":"https://slack.com/oauth/v2/authorize","auth-userid":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[{"ref":"text","value":"["},{"ref":"text","value":"]"}],"api-call-contenttype":"application/json","api-call-form":{"as_user":[{"ref":"text","value":""}],"attachments":[{"ref":"text","value":""}],"blocks":[{"ref":"text","value":""}],"channel":[{"_id":"MID5957436325942633","ref":"text","value":"identity"}],"icon_emoji":[{"ref":"text","value":""}],"icon_url":[{"ref":"text","value":""}],"link_names":[{"ref":"text","value":""}],"mrkdwn":[{"ref":"text","value":""}],"parse":[{"ref":"text","value":""}],"reply_broadcast":[{"ref":"text","value":""}],"text":[{"_id":"MID4986002919636403","ref":"text","value":""},{"_id":"MID6489858881896173","image":"","list":[""],"logo":"/pages-gateway/assets/images/builder/loop-solid.svg","maskParameter":false,"ref":"loop-definition-1111474727","title":"Row Name","type":"(s)","value":"Row{}.Name(s)"},{"_id":"MID7919039753776886","ref":"text","value":" : "},{"_id":"MID046145272914086766","image":"","list":[""],"logo":"/pages-gateway/assets/images/builder/loop-solid.svg","maskParameter":false,"ref":"loop-definition-1115355856","title":"Row Name","type":"(s)","value":"Row{}.Name(s)"},{"_id":"MID16376846983632976","ref":"text","value":""}],"thread_ts":[{"ref":"text","value":""}],"unfurl_links":[{"ref":"text","value":""}],"unfurl_media":[{"ref":"text","value":""}],"username":[{"ref":"text","value":""}]},"api-call-header":{"token":[{"ref":"text","value":""}]},"api-call-path":{},"api-call-query":{},"api-call-type":"post","api-description":"Sends a message to a channel.","api-map-config":{"api-call-body":{"description":"","location":"body","name":"body","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"api-call-form":{"as_user":{"description":"Pass true to post the message as the authed user, instead of as a bot. Defaults to false. See [authorship](#authorship) below.","location":"form","name":"as_user","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"attachments":{"description":"A JSON-based array of structured attachments, presented as a URL-encoded string.","location":"form","name":"attachments","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"blocks":{"description":"A JSON-based array of structured blocks, presented as a URL-encoded string.","location":"form","name":"blocks","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"channel":{"description":"Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See [below](#channels) for more details.","location":"form","name":"channel","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"icon_emoji":{"description":"Emoji to use as the icon for this message. Overrides `icon_url`. Must be used in conjunction with `as_user` set to `false`, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"icon_emoji","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"icon_url":{"description":"URL to an image to use as the icon for this message. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"icon_url","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"link_names":{"description":"Find and link channel names and usernames.","location":"form","name":"link_names","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"mrkdwn":{"description":"Disable Slack markup parsing by setting to `false`. Enabled by default.","location":"form","name":"mrkdwn","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"parse":{"description":"Change how messages are treated. Defaults to `none`. See [below](#formatting).","location":"form","name":"parse","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"reply_broadcast":{"description":"Used in conjunction with `thread_ts` and indicates whether reply should be made visible to everyone in the channel or conversation. Defaults to `false`.","location":"form","name":"reply_broadcast","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"text":{"description":"How this field works and whether it is required depends on other fields you use in your API call. [See below](#text_usage) for more detail.","location":"form","name":"text","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"thread_ts":{"description":"Provide another message's `ts` value to make this message a reply. Avoid using a reply's `ts` value; use its parent instead.","location":"form","name":"thread_ts","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"unfurl_links":{"description":"Pass true to enable unfurling of primarily text-based content.","location":"form","name":"unfurl_links","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"unfurl_media":{"description":"Pass false to disable unfurling of media content.","location":"form","name":"unfurl_media","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"username":{"description":"Set your bot's user name. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"username","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-header":{"token":{"description":"Authentication token. Requires scope: `chat:write`","location":"header","name":"token","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"83231bb2-e14b-4f8f-8a98-7dd1a048647e","apiname":"Chat Post Message","apiuniqueid":"","appname":"Slack","authRequired":false,"basePath":"/api","builder-auth-id":"eee62eaf-58c9-4d50-a56a-111d9dd797b2","company":"Slack","definition-id":"1111370285","endpoint":"/chat.postMessage","global_apiid":"d4e157c2-9939-400a-951a-836fc0993d14","global_region":"","goto":"loop-stop-definition-1110898431","host":"slack.com","id":"api-definition-1111370285","logo":"https://d2jvs8ec336vde.cloudfront.net/Slack_Slack.png","nodeType":"API","scheme":["https"],"version":"1.7.0"},"loop-stop-definition-1110898431":{"goto":"loop-stop-definition-1112092995","id":"loop-stop-definition-1110898431","nodeType":"EndLoop"},"loop-stop-definition-1112092995":{"goto":"api-condition-stop-definition-1115571205","id":"loop-stop-definition-1112092995","nodeType":"EndLoop"},"api-condition-stop-definition-1115571205":{"condition-id":"1115571205","condition-type":"stop","customresponse":false,"guid":"api-condition-stop-definition-1115571205","id":"api-condition-stop-definition-1115571205","killconnection":true,"nodeType":"Stop","responseformat":{"content-type":"application/json","response-body":[],"response-config":{"response-header":{},"response-body":{}},"response-header":{}},"usecustomresponse":false}},"enabled":false}}