{"aapilets":{"scim":{"enabled":false,"version":2},"name":"WPM-Clear-Roles-with-P","title":"","start-connection":"api-definition-1111517953","apiconnection":{"api-webhook-desc":{},"api-custom-values":{},"manualProcess":false,"mask-parameters":{"aapi-custom-values":[],"aapilet-external-request":[],"api-definition-1111517953":[],"loop-definition-1111361163":[]},"run":{"browser":{"enabled":true,"oidcEnabled":false,"oidcid":"1","workspaceEnabled":true},"endpoint":{"active":true,"apikey":""},"manual":{"active":true,"postrun":{"api-condition-stop-definition-1114635841":{"close":true,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"remain":false},"close":false,"customredirect":{"enabled":false,"isredirected":false,"redirecturl":[]},"redirect":false,"redirecturl":"","remain":true,"workspace":false}},"schedule":{"active":false,"day":[],"options":"periodically","periodically":"10m","range":[],"time":[]}},"timer":{"interval-days":"","interval-endtime":"","interval-hours":"","interval-specificdate":"","interval-starttime":"","interval-timezone":"","interval-type":"minutes","interval-value":"10"},"api-definition-1111517953":{"api-authentication":{"auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/x-www-form-urlencoded","auth-flow":"application","auth-password":"","auth-refresh-token":"*******","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://TENANTID.id.cyberark.cloud/oauth2/token/identityAPI","auth-type":"oauth2","expiry":"2023-12-12T19:05:42.077422344Z","expiry-name":"expires_in","token-name":"access_token"},"api-call-body":[{"ref":"text","value":"{"},{"ref":"text","value":"\"Script\":"},{"ref":"text","value":"\""},{"ref":"text","value":"Select * from Roles"},{"ref":"text","value":"\""},{"ref":"text","value":"}"}],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{"User-Agent":[{"_id":"MID3665863834717551","ref":"text","value":"Centrify"}],"X-IDAP-NATIVE-CLIENT":[{"_id":"MID612329057380611","ref":"text","value":"true"}]},"api-call-path":{},"api-call-query":{},"api-call-type":"post","api-map-config":{"api-call-body":{"description":"","location":"body","name":"body","type":"object","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":false},"api-call-form":{},"api-call-header":{"User-Agent":{"description":"","location":"header","name":"User-Agent","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"X-IDAP-NATIVE-CLIENT":{"description":"","location":"header","name":"X-IDAP-NATIVE-CLIENT","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"779e7893-d9d2-48a5-8c54-b00946085b74","apiname":"api-1111517953","apiuniqueid":"","appname":"appname-1111517953","authRequired":false,"basePath":"/","builder-auth-id":"48c2ac13-2c2f-4a17-8437-db25c80c4160","company":"","definition-id":"1111517953","endpoint":"/RedRock/query","global_apiid":"","global_region":"","goto":"loop-definition-1111361163","host":"TENANTID.id.cyberark.cloud","id":"api-definition-1111517953","logo":"","nodeType":"API","scheme":["https"],"version":"1.0.0","guid":"api-definition-1111517953"},"loop-definition-1111361163":{"condition-type":"loop","definition-id":"1111361163","goto":"api-condition-bool-definition-1111417219","id":"loop-definition-1111361163","isConditionLoop":true,"loop-map-values":{"initialization":[],"iteration-goto":"","iteration-value":[{"_id":"MID7433955021077965","ref":"text","value":""},{"_id":"MID5408892139290937","image":"","maskParameter":false,"ref":"api-definition-1111517953","title":"Result Results","type":"[{}]","value":"Result{}.Results[{}]"},{"_id":"MID0007166856024254376","ref":"text","value":""}],"loop-type":"forEach","operations":""},"loopName":"loop-definition-1111361163","loopstop-definition":"loop-definition-1111361163","loopstop-id":"loop-stop-definition-1111226551","nodeType":"Loop","schema":{"Entities":[{"IsForeignKey":false,"Key":"7ccbf9fe_f8e0_41d4_9b35_d9bb15aca250","Type":"Role"}],"Row":{"Description":null,"DirectoryServiceUuid":"09B9A9B0-6CE8-465F-AB03-65766D33B05E","ID":"7ccbf9fe_f8e0_41d4_9b35_d9bb15aca250","Name":"ABAC-ROLE","OrgPath":null,"ReadOnly":null,"RoleType":"Script","_TableName":"roles"}},"type":"loop","guid":"loop-definition-1111361163"},"api-condition-bool-definition-1111417219":{"branchName":"Branch-1111417219","condition":"starts with","condition-id":"1111417219","condition-in":{"_id":"MID4064861939564044","image":"","list":[""],"logo":"/pages-gateway/assets/images/builder/loop-solid.svg","maskParameter":false,"ref":"loop-definition-1111361163","title":"Row Name","type":"(s)","value":"Row{}.Name(s)"},"condition-true-path":"leftpath","condition-type":"bool","goto":"loop-stop-definition-1111226551","id":"api-condition-bool-definition-1111417219","map":[{"goto":"api-definition-1116512118","options":true},{"goto":"loop-stop-definition-1111226551","options":false}],"nodeType":"Branch","value":{"_id":"MID805616544474957","ref":"text","value":"P"}},"api-definition-1116512118":{"api-authentication":{"auth-all-scopes":null,"auth-apikey-location":"","auth-apikey-name":"","auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/json","auth-flow":"accessCode","auth-password":"","auth-refresh-token":"","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://slack.com/api/oauth.v2.access","auth-type":"oauth2","auth-url":"https://slack.com/oauth/v2/authorize","auth-userid":"","aws-region":"","service-name":"","session-token":"","smtp-server-port":0,"smtp-server-url":""},"api-call-body":[],"api-call-contenttype":"application/json","api-call-form":{"as_user":[{"ref":"text","value":""}],"attachments":[{"ref":"text","value":""}],"blocks":[{"ref":"text","value":""}],"channel":[{"_id":"MID023520902595528748","ref":"text","value":"flows"}],"icon_emoji":[{"ref":"text","value":""}],"icon_url":[{"ref":"text","value":""}],"link_names":[{"ref":"text","value":""}],"mrkdwn":[{"ref":"text","value":""}],"parse":[{"ref":"text","value":""}],"reply_broadcast":[{"ref":"text","value":""}],"text":[{"_id":"MID7380506501358848","ref":"text","value":"P found: "},{"_id":"MID20835834444843515","image":"","maskParameter":false,"ref":"loop-definition-1111361163","title":"Row Name","type":"(s)","value":"Row{}.Name(s)"},{"_id":"MID08761132398894644","ref":"text","value":", ID: "},{"_id":"MID3108208221320832","image":"","maskParameter":false,"ref":"loop-definition-1111361163","title":"Row Id","type":"(s)","value":"Row{}.ID(s)"},{"_id":"MID6606206219307453","ref":"text","value":""}],"thread_ts":[{"ref":"text","value":""}],"unfurl_links":[{"ref":"text","value":""}],"unfurl_media":[{"ref":"text","value":""}],"username":[{"ref":"text","value":""}]},"api-call-header":{"token":[{"ref":"text","value":""}]},"api-call-path":{},"api-call-query":{},"api-call-type":"post","api-description":"Sends a message to a channel.","api-map-config":{"api-call-body":{},"api-call-form":{"as_user":{"description":"Pass true to post the message as the authed user, instead of as a bot. Defaults to false. See [authorship](#authorship) below.","location":"form","name":"as_user","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"attachments":{"description":"A JSON-based array of structured attachments, presented as a URL-encoded string.","location":"form","name":"attachments","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"blocks":{"description":"A JSON-based array of structured blocks, presented as a URL-encoded string.","location":"form","name":"blocks","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"channel":{"description":"Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See [below](#channels) for more details.","location":"form","name":"channel","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"icon_emoji":{"description":"Emoji to use as the icon for this message. Overrides `icon_url`. Must be used in conjunction with `as_user` set to `false`, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"icon_emoji","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"icon_url":{"description":"URL to an image to use as the icon for this message. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"icon_url","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"link_names":{"description":"Find and link channel names and usernames.","location":"form","name":"link_names","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"mrkdwn":{"description":"Disable Slack markup parsing by setting to `false`. Enabled by default.","location":"form","name":"mrkdwn","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"parse":{"description":"Change how messages are treated. Defaults to `none`. See [below](#formatting).","location":"form","name":"parse","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"reply_broadcast":{"description":"Used in conjunction with `thread_ts` and indicates whether reply should be made visible to everyone in the channel or conversation. Defaults to `false`.","location":"form","name":"reply_broadcast","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"text":{"description":"How this field works and whether it is required depends on other fields you use in your API call. [See below](#text_usage) for more detail.","location":"form","name":"text","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"thread_ts":{"description":"Provide another message's `ts` value to make this message a reply. Avoid using a reply's `ts` value; use its parent instead.","location":"form","name":"thread_ts","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"unfurl_links":{"description":"Pass true to enable unfurling of primarily text-based content.","location":"form","name":"unfurl_links","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"unfurl_media":{"description":"Pass false to disable unfurling of media content.","location":"form","name":"unfurl_media","type":"boolean","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true},"username":{"description":"Set your bot's user name. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.","location":"form","name":"username","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-header":{"token":{"description":"Authentication token. Requires scope: `chat:write`","location":"header","name":"token","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{},"api-call-query":{}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"56b3be00-ae11-400e-84b3-0843f7c470f6","apiname":"Chat Post Message","apiuniqueid":"","appname":"Slack","authRequired":false,"basePath":"/api","builder-auth-id":"27a4ddb7-61bd-45b5-8d33-f637017a69c8","company":"Slack","definition-id":"1116512118","endpoint":"/chat.postMessage","global_apiid":"d4e157c2-9939-400a-951a-836fc0993d14","global_region":"","goto":"api-definition-1115215929","host":"slack.com","id":"api-definition-1116512118","logo":"https://d2jvs8ec336vde.cloudfront.net/Slack_Slack.png","nodeType":"API","scheme":["https"],"version":"1.7.0"},"api-definition-1115215929":{"api-authentication":{"auth-apikey-value":"*******","auth-clientid":"*******","auth-clientsecret":"*******","auth-content-type":"application/x-www-form-urlencoded","auth-flow":"application","auth-password":"","auth-refresh-token":"*******","auth-scopes":[],"auth-token":"*******","auth-token-url":"https://TENANTID.id.cyberark.cloud/oauth2/token/identityAPI","auth-type":"oauth2","expiry":"2023-12-12T19:05:42.077422344Z","expiry-name":"expires_in","token-name":"access_token"},"api-call-body":[],"api-call-contenttype":"application/json","api-call-form":{},"api-call-header":{"User-Agent":[{"_id":"MID37847964412579493","ref":"text","value":"Centrify"}]},"api-call-path":{},"api-call-query":{"name":[{"_id":"MID8943898495824263","ref":"text","value":""},{"_id":"MID5131294708237575","image":"","list":[""],"logo":"/pages-gateway/assets/images/builder/loop-solid.svg","maskParameter":false,"ref":"loop-definition-1111361163","title":"Row Id","type":"(s)","value":"Row{}.ID(s)"},{"_id":"MID39299157510653404","ref":"text","value":""}]},"api-call-type":"post","api-map-config":{"api-call-body":{},"api-call-form":{},"api-call-header":{"User-Agent":{"description":"","location":"header","name":"User-Agent","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}},"api-call-path":{},"api-call-query":{"name":{"description":"","location":"query","name":"name","type":"string","webhookInput":null,"webhookValidation":null,"required":false,"prompt":false,"defaultParameter":true}}},"api-map-desc":{"api-call-body":"","api-call-form":{},"api-call-header":{},"api-call-path":{},"api-call-query":{}},"apiid":"8fccbe7f-568e-4806-afe9-adbf30a479e0","apiname":"api-1115215929","apiuniqueid":"","appname":"appname-1115215929","authRequired":false,"basePath":"/","builder-auth-id":"48c2ac13-2c2f-4a17-8437-db25c80c4160","company":"","definition-id":"1115215929","endpoint":"/saasManage/DeleteRole","global_apiid":"","global_region":"","goto":"loop-stop-definition-1111226551","host":"TENANTID.id.cyberark.cloud","id":"api-definition-1115215929","logo":"","nodeType":"API","scheme":["https"],"version":"1.0.0"},"loop-stop-definition-1111226551":{"goto":"api-condition-stop-definition-1114635841","id":"loop-stop-definition-1111226551","nodeType":"EndLoop"},"api-condition-stop-definition-1114635841":{"condition-id":"1114635841","condition-type":"Stop","customresponse":false,"id":"api-condition-stop-definition-1114635841","killconnection":true,"nodeType":"Stop","responseformat":{"content-type":"application/json","response-body":[],"response-config":{"response-header":{},"response-body":{}},"response-header":{}},"usecustomresponse":false,"guid":"api-condition-stop-definition-1114635841"}},"enabled":false}}